### Stock/Inventory Operations Tests
### Base URL
@baseUrl = http://localhost:8080
@contentType = application/json

### Variables
@authToken = Bearer YOUR_TOKEN_HERE
@productoId = 1
@codigoBarras = 7501234567890
@stockId = 1

###############################################################################
### 1. Get Stock by Product ID
GET {{baseUrl}}/stock/producto/{{productoId}}
Authorization: {{authToken}}

###############################################################################
### 2. Get Stock by Product Barcode
GET {{baseUrl}}/stock/codigo-barras/{{codigoBarras}}
Authorization: {{authToken}}

###############################################################################
### 3. Get All Stock Items (Paginated)
GET {{baseUrl}}/stock?page=0&size=10
Authorization: {{authToken}}

###############################################################################
### 4. Get Low Stock Items
GET {{baseUrl}}/stock/bajo?umbral=20
Authorization: {{authToken}}

###############################################################################
### 5. Get Expired Stock
GET {{baseUrl}}/stock/vencidos
Authorization: {{authToken}}

###############################################################################
### 6. Get Stock Expiring Soon (30 days)
GET {{baseUrl}}/stock/por-vencer?dias=30
Authorization: {{authToken}}

###############################################################################
### 7. Get Stock Expiring in 7 Days
GET {{baseUrl}}/stock/por-vencer?dias=7
Authorization: {{authToken}}

###############################################################################
### 8. Add Stock to Product by ID
POST {{baseUrl}}/productos/agregar-stock
Content-Type: {{contentType}}
Authorization: {{authToken}}

{
  "productoId": 1,
  "codigoStock": "LOT-NEW-001",
  "cantidadUnidades": 150,
  "fechaVencimiento": "2026-03-31",
  "precioCompra": 1.80
}

###############################################################################
### 9. Add Stock to Product by Barcode
POST {{baseUrl}}/productos/agregar-stock
Content-Type: {{contentType}}
Authorization: {{authToken}}

{
  "codigoBarras": "7501234567890",
  "codigoStock": "LOT-NEW-002",
  "cantidadUnidades": 100,
  "fechaVencimiento": "2026-06-30",
  "precioCompra": 1.75
}

###############################################################################
### 10. Update Stock Quantity
PUT {{baseUrl}}/stock/{{stockId}}
Content-Type: {{contentType}}
Authorization: {{authToken}}

{
  "cantidadUnidades": 75,
  "fechaVencimiento": "2026-03-31",
  "precioCompra": 1.80
}

###############################################################################
### 11. Get Stock Summary by Product
GET {{baseUrl}}/stock/resumen/producto/{{productoId}}
Authorization: {{authToken}}

###############################################################################
### 12. Get Complete Stock Summary
GET {{baseUrl}}/stock/resumen
Authorization: {{authToken}}

###############################################################################
### 13. Get Stock by Lot/Batch Code
GET {{baseUrl}}/stock/lote/LOT001
Authorization: {{authToken}}

###############################################################################
### 14. Get Stock Valuation
GET {{baseUrl}}/stock/valoracion
Authorization: {{authToken}}

###############################################################################
### 15. Get Stock by Category
GET {{baseUrl}}/stock/categoria/Analg√©sicos
Authorization: {{authToken}}

###############################################################################
### 16. Get Stock by Laboratory
GET {{baseUrl}}/stock/laboratorio/Farma Lab
Authorization: {{authToken}}

###############################################################################
### 17. Delete Stock Item
DELETE {{baseUrl}}/stock/{{stockId}}
Authorization: {{authToken}}

###############################################################################
### 18. Search Stock with Filters
GET {{baseUrl}}/stock/buscar?q=Paracetamol&vencimiento=30&stockMinimo=20
Authorization: {{authToken}}

###############################################################################
### 19. Get Stock Movement History
GET {{baseUrl}}/stock/{{stockId}}/historial
Authorization: {{authToken}}

###############################################################################
### 20. Export Stock Report
GET {{baseUrl}}/stock/exportar?formato=excel
Authorization: {{authToken}}

###############################################################################
### 21. Export Stock Report - PDF
GET {{baseUrl}}/stock/exportar?formato=pdf
Authorization: {{authToken}}
